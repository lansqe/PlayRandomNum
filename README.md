# –ò–≥—Ä–∞ "–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ" (WebSocket)

–ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∏–≥—Ä–∞, –≥–¥–µ —Å–µ—Ä–≤–µ—Ä –∑–∞–≥–∞–¥—ã–≤–∞–µ—Ç —á–∏—Å–ª–æ, –∞ –∏–≥—Ä–æ–∫–∏ –ø—ã—Ç–∞—é—Ç—Å—è –µ–≥–æ —É–≥–∞–¥–∞—Ç—å —á–µ—Ä–µ–∑ WebSocket-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.


## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- Python 3.8+
- FastAPI
- Uvicorn
- Pydantic


## üöÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

pip install fastapi uvicorn pydantic

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

uvicorn app.main:app --reload

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
ws://localhost:8000/ws


## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–≥—Ä–µ

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ ws://localhost:8000/ws

2. –û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —á–∏—Å–ª–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:
{"guess": 42}


## –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞:

–ü–æ–¥—Å–∫–∞–∑–∫–∏: "–ë–æ–ª—å—à–µ" –∏–ª–∏ "–ú–µ–Ω—å—à–µ"

–ü–æ–±–µ–¥–∞: "–í—ã —É–≥–∞–¥–∞–ª–∏!" 

–û–ø–æ–≤–µ—â–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤: "–ò–≥—Ä–æ–∫-123 —É–≥–∞–¥–∞–ª —á–∏—Å–ª–æ 78!"

–ù–æ–≤–∞—è –∏–≥—Ä–∞: "–ù–æ–≤–∞—è –∏–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å!"


## –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π
–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ JSON-—Ñ–æ—Ä–º–∞—Ç–µ —Å –ø–æ–ª–µ–º guess:
{"guess": 50}


## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–≥—Ä—É –º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é:

1. –í Postman –Ω–∞–∂–º–∏—Ç–µ "New" ‚Üí "WebSocket Request"

–í–≤–µ–¥–∏—Ç–µ URL: ws://localhost:8000/ws

–ù–∞–∂–º–∏—Ç–µ "Connect"

2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —á–∏—Å–ª–æ:

–í –ø–æ–ª–µ –≤–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ: {"guess": 50}

–ù–∞–∂–º–∏—Ç–µ "Send"

## –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏

–û—à–∏–±–∫–∞: –û—Ç–ø—Ä–∞–≤—å—Ç–µ {'guess': —á–∏—Å–ª–æ} - –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è

–û—à–∏–±–∫–∞: –ß–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 1 –¥–æ 100 - –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ